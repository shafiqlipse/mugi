{% extends "dashboard/dashboard.html" %}
<!---->
{% load static %}
<!---->
{%block title%}Schools{% endblock %}
<!---->
{% block content %}
<div class="container-fluid">
  <div class="card">
    <div class="card-header">
      <h1 class="fs-18 fw-semibold m-0">Payments</h1>
    </div>
    <div class="card-body">
      <h2>Completed Payment Summary</h2>

      <p><strong>Overall Total:</strong> {{ overall_total|floatformat:2 }}</p>

      <h3>By Zone</h3>
      <table class="display" id="myTable">
        <tr>
          <th>Zone</th>
          <th>Total Amount</th>
          <th>Percentage</th>
        </tr>
        {% for z in zone_totals %}
        <tr>
          <td>{{ z.school__district__zone__name }}</td>
          <td>{{ z.total_amount|floatformat:2 }}</td>
          <td>{{ z.percentage|floatformat:2 }}%</td>
        </tr>

        {% endfor %}
      </table>

      <h3>By District</h3>
      <table class="display" id="myTable">
        <thead>
          <tr>
            <th>District</th>
            <th>Total Amount</th>
            <th>Percentage</th>
          </tr>
        </thead>
        <tbody>
          {% for d in district_totals %}

          <tr>
            <td>{{ d.school__district__name }}</td>
            <td>{{ d.total_amount|floatformat:2 }}</td>
            <td>{{ d.percentage|floatformat:2 }}%</td>
          </tr>

          {% endfor %}
        </tbody>
      </table>
      {% comment %}
      <h3>By School</h3>
      <table class="display" id="myqTable">
        <tr>
          <th>School</th>
          <th>Total Amount</th>
          <th>Percentage</th>
        </tr>
        {% for s in school_totals %}
        <tr>
          <td>{{ s.school__name }}</td>
          <td>{{ s.total_amount|floatformat:2 }}</td>
          <td>{{ s.percentage|floatformat:2 }}%</td>
        </tr>

        {% endfor %}
      </table>
      {% endcomment %}
    </div>
  </div>
</div>

{% endblock %}
