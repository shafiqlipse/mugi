<!DOCTYPE html>
<html lang="en">
  {% load static %}
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link rel="shortcut icon" href="{% static 'lib/images/logo.png'%}" />
    <title>USSSA | lOGIN</title>
    <!-- plugins:css -->
    {% include "variables/new_css.html" %}
    <!-- End layout styles -->
    <style>
      .timer-box {
        background-color: #560000ff;
        padding: 10px;
        border-radius: 1rem;
        text-align: center;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.1);
      }
      h2{
        color: #ffffffff;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        text-transform: uppercase;
      }
      .time {
        font-size: 2.5rem;
        font-weight: bold;
        color: #ffffffff;
      }
      .label {
        font-size: 0.9rem;
        color: #ffffffff;
      }
    </style>
  </head>
  <body>
    <div
      class="account-page"
      style="background-image: url('{% static 'lib/images/auth-bg.jpg' %}')"
    >
      <div class="container-fluid p-0">
        <div class="row align-items-center g-0 px-3 py-3 vh-100">
          <div class="col-xl-7">
            <div class="row">
              <div class="col-md-8 mx-auto">
                <div class="card">
                  <div class="card-body">
                    <div class="mb-0 p-0 p-lg-3">
                      <div class="mb-0 border-0 p-md-4 p-lg-0">
                        <div class="mb-3 p-0 text-center">
                          <div class="auth-brand">
                            <a class="logo logo-light" href="/dusty/html/">
                              <span class="logo-lg">
                                <img
                                  src="{% static 'lib/images/logo-light-01.png'%}"
                                  alt=""
                                  height="24"
                                />
                              </span>
                            </a>
                            <a class="logo logo-dark" href="/dusty/html/">
                              <span class="logo-lg">
                                <img
                                  src="{% static 'lib/images/logo-light-01.png'%}"
                                  alt=""
                                  height="24"
                                />
                              </span>
                            </a>
                          </div>
                        </div>

                        <!--<div class="auth-title-section mb-4 text-center">
                          <h3 class="text-danger fw-semibold mb-1">
                            Welcome Back !
                          </h3>
                          <p class="text-muted fs-14 mb-0">
                            Hey, Enter your details to get sign in to your
                            account.
                          </p>
                        </div>-->

                        <div class="alert alert-danger">
                          <h3>System closed</h3>
                          <p>
                            The system is currently closed for the Year. Please
                            try again later after official reopening.
                          </p>
                          <div class="timer-box">
                            <h2 class="mb-4">Countdown to Reopening</h2>
                            <div class="row">
                              <div class="col">
                                <div class="time" id="days">00</div>
                                <div class="label">Days</div>
                              </div>
                              <div class="col">
                                <div class="time" id="hours">00</div>
                                <div class="label">Hours</div>
                              </div>
                              <div class="col">
                                <div class="time" id="minutes">00</div>
                                <div class="label">Minutes</div>
                              </div>
                              <div class="col">
                                <div class="time" id="seconds">00</div>
                                <div class="label">Seconds</div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="pt-0">
                          <form action="" class="my-4" method="post">
                            {% csrf_token %}
                            <div class="form-group mb-3">
                              <label for="username">Username or email *</label>
                              <div class="input-group">
                                <input
                                  type="text"
                                  class="form-control"
                                  name="username"
                                  id="username"
                                  placeholder="Enter your email/username"
                                />
                                <div class="input-group-text">
                                  <i class="fa-solid fa-user"></i>
                                </div>
                              </div>

                              {% if form.errors.username %}
                              <div class="text-danger">
                                {{ form.errors.username|striptags }}
                              </div>
                              {% endif %}
                            </div>

                            <div class="form-group mb-3">
                              <label for="password">Password *</label>
                              <div class="input-group">
                                <input
                                  type="password"
                                  class="form-control p_input"
                                  name="password"
                                  id="passwordId"
                                  placeholder="Enter your password"
                                />
                                <div class="input-group-text">
                                  <i
                                    class="fa fa-eye"
                                    id="eyeId"
                                    onclick="togglePassword('passwordId', 'eyeId')"
                                  ></i>
                                </div>
                              </div>
                            </div>

                            <div class="form-group d-flex mb-3">
                              <div class="col-sm-6">
                                <div class="form-check">
                                  <input
                                    type="checkbox"
                                    class="form-check-input"
                                    id="checkbox-signin"
                                    checked
                                  />
                                  <label
                                    class="form-check-label"
                                    for="checkbox-signin"
                                    >Remember me</label
                                  >
                                </div>
                              </div>
                              <div class="col-sm-6 text-end">
                                <a
                                  class="text-muted fs-14"
                                  href="/dusty/html/auth-recoverpw"
                                  >Forgot password?</a
                                >
                              </div>
                            </div>

                            <div class="form-group mb-0 row">
                              <div class="col-12">
                                <div class="d-grid">
                                  <button
                                    class="btn btn-primary fw-semibold"
                                    type="submit"
                                  >
                                    Log In
                                  </button>
                                </div>
                              </div>
                            </div>
                          </form>

                          <div class="text-center text-muted mt-4">
                            <p class="mb-0">
                              Don't have an account ?<a
                                class="text-primary ms-2 fw-medium"
                                href=""
                                >Register School</a
                              >
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-xl-5 d-none d-xl-inline-block">
            <div class="account-page-bg rounded-4">
              <div class="text-center">
                <div class="auth-image">
                  <img
                    src="{% static 'lib/images/logo.png'%}"
                    class="mx-auto img-fluid"
                    alt="images"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="{% static 'assets/vendors/js/vendor.bundle.base.js'%}"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <script>
      function togglePassword(passwordId, eyeId) {
        const password = document.getElementById(passwordId);
        const eye = document.getElementById(eyeId);

        if (password.type === "password") {
          password.type = "text";
          eye.classList.replace("fa-eye", "fa-eye-slash");
        } else {
          password.type = "password";
          eye.classList.replace("fa-eye-slash", "fa-eye");
        }
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker
          .register("/static/lib/js/serviceworker.js")
          .then((reg) => {
            console.log("Service Worker registered:", reg);
          })
          .catch((err) => {
            console.error("Service Worker registration failed:", err);
          });
      }
    </script>
    <script>
      // 🕒 Set your target date here:
      const countdownDate = new Date("Nov 15, 2025 23:59:59").getTime();

      const timer = setInterval(function () {
        const now = new Date().getTime();
        const distance = countdownDate - now;

        // Time calculations
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        // Display values
        document.getElementById("days").textContent = String(days).padStart(
          2,
          "0"
        );
        document.getElementById("hours").textContent = String(hours).padStart(
          2,
          "0"
        );
        document.getElementById("minutes").textContent = String(
          minutes
        ).padStart(2, "0");
        document.getElementById("seconds").textContent = String(
          seconds
        ).padStart(2, "0");

        // When time is up
        if (distance < 0) {
          clearInterval(timer);
          document.querySelector(".timer-box").innerHTML =
            "<h2>🎉 The event has started!</h2>";
        }
      }, 1000);
    </script>
  </body>
</html>
