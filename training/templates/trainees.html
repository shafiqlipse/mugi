{% extends "dashboard/dashboard.html" %}

<!--static-->
{% block title %}Trainees{% endblock %}
<!--static-->
{% load static %}
<!--khfufufu-->
{% block content %}
<div class="schools-dew content-wrapper">
  <div class="head flex">
    <h1>capacity building 2024</h1>
    <hr />
  </div>
  <div class="filter flex">
    <h2>Filter trainees</h2>
    <form method="get">
      {{ trainee_filter.form.as_p }}
      <button type="submit">Apply Filter</button>
    </form>

    <form method="post" class="form-contol">
      {% csrf_token %}
      <input type="submit" name="Accreditation" value="Accreditation" />
    </form>

    <form method="post" class="form-contol">
      {% csrf_token %}
      <input type="submit" name="Certificate" value="Certificate" />
    </form>
    <a href="{% url 'export_csv' %}">Export CSV</a>
  </div>
  <div class="filterlist card">
    <div class="official-list">
      <table id="myTable" class="display">
        <thead>
          <tr>
            <th>Entry date</th>
            <th>Names</th>
            <th>Gender</th>
            <th>Contact</th>
            <th>Venue</th>
            <th>Discipline</th>
            <th>Course</th>
            {% if user.is_admin %}
            <th>Edit</th>
            <th>Delete</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
          {% for trainees in filter.qs %}
          <tr>
            <td>{{trainees.entry_date}}</td>
            <td>
              <a href="{% url 'trainee' trainees.id%}"
                >{{trainees.first_name}} {{trainees.last_name}}</a
              >
            </td>
            <td>{{trainees.gender}}</td>
            <td>{{trainees.contact}}</td>
            <td>{{trainees.venue}}</td>
            <td>{{trainees.discipline}}</td>
            <td>{{trainees.course}}</td>
            {% if user.is_admin %}
            <td><a href="{%url 'update_trainee' trainees.id %}">Edit</a></td>
            <td>
              <a href="{%url 'delete_trainee' trainees.id %}">delete</a>
            </td>
            {% endif %}
          </tr>

          {%endfor%}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
